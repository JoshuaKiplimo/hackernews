(this.webpackJsonpreminder=this.webpackJsonpreminder||[]).push([[0],{12:function(e,a,t){},14:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(4),l=t.n(c),o=(t(12),t(1)),u=t(2),s=t.n(u),i=t(5),m=t(6),p=function(e,a){switch(a.type){case"SET_LOADING":return Object(o.a)(Object(o.a)({},e),{},{loading:!e.loading});case"SET_STORIES":return console.log(a.payload.nbPages),Object(o.a)(Object(o.a)({},e),{},{news:a.payload.news,nbPages:a.payload.nbPages});case"HANDLE_SEARCH":return Object(o.a)(Object(o.a)({},e),{},{searchValue:a.payload});case"REMOVE_STORY":return console.log(a.payload),Object(o.a)(Object(o.a)({},e),{},{page:a.payload});case"HANDLE_PAGE":return console.log(a.payload),Object(o.a)(Object(o.a)({},e),{},{news:e.news.filter((function(e){return e.objectID!==a.payload}))})}},E={loading:!1,news:[],searchValue:"react",page:0,nbPages:0},d=r.a.createContext(),b=function(e){var a=e.children,t=Object(n.useReducer)(p,E),c=Object(m.a)(t,2),l=c[0],u=c[1],b=function(){var e=Object(i.a)(s.a.mark((function e(a){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u({type:"SET_LOADING"}),e.next=4,fetch(a);case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,console.log(n),u({type:"SET_STORIES",payload:{news:n.hits,nbPages:n.nbPages}}),u({type:"SET_LOADING"}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),u({type:"SET_LOADING"}),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(a){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){b("".concat("https://hn.algolia.com/api/v1/search?","query=").concat(l.searchValue,"&page=").concat(l.page))}),[l.searchValue,l.page]),r.a.createElement(d.Provider,{value:Object(o.a)(Object(o.a)({},l),{},{handleSearch:function(e){u({type:"HANDLE_SEARCH",payload:e})},removeStory:function(e){u({type:"REMOVE_STORY",payload:e})},handlePage:function(e,a){var t=l.page;"prev"===e?l.page<=0?t=50:t-=1:l.page>=50?t=0:t+=1,u({type:"REMOVE_STORY",payload:t})}})},a)},f=function(){return Object(n.useContext)(d)},g=function(){var e=f(),a=e.searchValue,t=e.handleSearch;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"search-form",onSubmit:function(e){return e.preventDefault()}},r.a.createElement("h2",null,"Search Hacker News"),r.a.createElement("input",{type:"text",className:"form-input",value:a,onChange:function(e){return t(e.target.value)}})))},h=function(){var e=f(),a=e.news,t=e.loading,n=e.removeStory;return t?r.a.createElement("div",{className:"loading"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"stories"},a.map((function(e){var a=e.title,t=e.url,c=e.points,l=e.author,o=e.num_comments,u=e.objectID;return r.a.createElement("article",{className:"story",key:u},r.a.createElement("h4",{className:"title"},a),r.a.createElement("p",{className:"info"},"".concat(c," points by"),r.a.createElement("span",null,l," | "),"".concat(o," comments")),r.a.createElement("div",null,r.a.createElement("a",{href:t,className:"read-link",target:"_blank",rel:"noopener noreferrer"},"read more"),r.a.createElement("button",{className:"remove-btn",onClick:function(){return n(u)}},"remove")))}))))},v=function(){var e=f(),a=e.page,t=e.loading,n=e.handlePage,c=e.nbPages;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"btn-container"},r.a.createElement("button",{disabled:t,onClick:function(){return n("prev",a-1)}},"prev"),r.a.createElement("p",null,"".concat(a+1," of ").concat(c)),r.a.createElement("button",{disabled:t,onClick:function(){return n("next",a+1)}},"next")))};var y=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(g,null),r.a.createElement(v,null),r.a.createElement(h,null))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b,null,r.a.createElement(y,null))),document.getElementById("root"))},7:function(e,a,t){e.exports=t(14)}},[[7,1,2]]]);
//# sourceMappingURL=main.602c5af8.chunk.js.map